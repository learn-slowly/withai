# GitHub Actions를 이용한 index.md 자동 업데이트 구현

## 작업 내용

### 1. PRD 문서 검토 및 수정
1. 마크다운 형식 정리
   - 숫자-숫자 형식(1-1)을 순차적 리스트로 변경
   - 하위 항목은 들여쓰기와 대시(-) 사용
   - 전체적인 구조는 유지하면서 마크다운 문법에 맞게 정리

2. 요구사항 명확화
   - 각 폴더의 index.md 파일 업데이트 방식
   - Last updated 시간 표시 형식
   - 파일 링크 추가 방식
   - README.md 업데이트 방식

### 2. update-indexes.yml 파일 수정

1. 기존 index.md 구조 유지
   ```python
   # 컨텐츠 업데이트 (기존 내용 유지)
   updated_content = content[:h1_end] + time_update + new_links + content[h1_end:]
   ```

2. 중복 링크 방지 로직 추가
   ```python
   # 기존 링크 찾기
   existing_links = set()
   for match in re.finditer(r'\[(\d{4}-\d{2}-\d{2})\]', content):
       existing_links.add(match.group(1))
   
   # 새로운 파일 링크 생성 (중복 제외)
   new_links = ""
   for file in sorted(new_files, reverse=True):
       date = os.path.splitext(os.path.basename(file))[0]
       if re.match(r'^\d{8}$', date):
           formatted_date = f"{date[:4]}-{date[4:6]}-{date[6:]}"
           if formatted_date not in existing_links:  # 중복 체크
               new_links += f"\n- [{formatted_date}]({file})\n"
   ```

3. README.md 업데이트 로직 수정
   ```python
   def update_readme():
       readme_path = os.path.join(os.getcwd(), 'README.md')
       if not os.path.exists(readme_path):
           return
           
       with open(readme_path, 'r', encoding='utf-8') as f:
           content = f.read()
           
       current_time = get_korean_time()
       time_update = f"\n#### Last updated: {current_time}\n"
       
       # 기존의 Last updated 라인이 있다면 제거
       content = re.sub(r'\n#### Last updated:.*?(?=\n|$)', '', content, flags=re.DOTALL)
       
       # 파일 끝에 새로운 업데이트 시간 추가
       updated_content = content.rstrip() + time_update
       
       with open(readme_path, 'w', encoding='utf-8') as f:
           f.write(updated_content)
   ```

## 주요 변경사항
1. index.md 파일의 기존 구조를 유지하면서 새로운 링크만 추가
2. 동일한 날짜의 링크가 중복해서 추가되는 것을 방지
3. README.md 파일의 Last updated 시간이 제대로 업데이트되도록 수정
4. 파일 경로를 절대 경로로 지정하여 안정성 향상

## 다음 단계
1. 실제 환경에서 테스트 진행
2. 발견된 문제점 수정
3. 코드 리팩토링 및 최적화 